
; semicolons are comments
; all of this is data
; sequences of numbers are numbers
; all sequences of alphanumeric characters are strings
; strings containing whitespace should be wrapped in quotes
; (or for "emphasis")


(interface Fnord
	(float ElapsedTime))


(struct SomeType
	(mat4 Whatever)
	(float Etc))


(interface Whatsit
	(SomeType Moop))


(sampler SomeSampler
	(min_filter GL_NEAREST)
	(mag_filter GL_NEAREST))


(texture2d BgImage
	(format RGBA8)
	(use SomeSampler))


(pipeline TextureTest
	(vs "shaders/splat.vs.glsl")
	(fs "shaders/texture.fs.glsl")
	(use Fnord)
	(use bg_image)
	(disable GL_DEPTH_TEST)
	(disable GL_CULL_FACE))


(pipeline SplatRed
	(vs "shaders/splat.vs.glsl")
	(fs "shaders/red.fs.glsl")
	(use SomeType)
	(use Fnord)
	(use Whatsit)
	(disable GL_DEPTH_TEST)
	(disable GL_CULL_FACE))


(pipeline SplatBlue
	(copy SplatRed)
	(fs "shaders/blue.fs.glsl"))


(handle SomeHandle Fnord)


(handle YourTextureHere BgImage)


(preload YourTextureHere "test_texture.png")


(renderer TextureTest
	(update SomeHandle)
	(draw TextureTest
		(bind SomeHandle)
		(bind YourTextureHere)))


(renderer Blue
	(update SomeHandle)
	(draw SplatBlue
		(bind SomeHandle)))


(renderer Red
	(update SomeHandle)
	(draw SplatRed
		(bind SomeHandle)))
	